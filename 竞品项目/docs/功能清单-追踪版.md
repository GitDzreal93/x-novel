# ✅ 功能清单 - 开发追踪

> 更新日期：2026-02-27
> 项目：X-Novel AI 小说创作平台

---

## 📊 总体进度

| 阶段 | 周期 | 状态 | 进度 |
|------|------|------|------|
| MVP（最小可行产品） | Week 1-6 | 📋 计划中 | 0% |
| 基础体验完善 | Week 7-9 | 📋 计划中 | 0% |
| 差异化竞争力 | Week 10-14 | 📋 计划中 | 0% |
| 增值功能 | Week 15-19 | 📋 计划中 | 0% |

---

## 🎬 Sprint 1: 基础框架 + 项目管理（Week 1）

### 后端
- [ ] Go 项目初始化（Gin + GORM + PostgreSQL）
- [ ] 数据库表设计（projects, chapters）
- [ ] 设备 ID 管理（本地存储标识）
- [ ] 项目 CRUD 接口

### 前端
- [ ] React 项目初始化（Vite + TS + Ant Design）
- [ ] 路由配置
- [ ] 状态管理（Zustand）
- [ ] 项目列表页
- [ ] 创建项目对话框
- [ ] 设备 ID 持久化

### 验收标准
- 可以创建和管理项目
- 数据本地持久化

---

## 🎬 Sprint 2: 小说架构生成（Week 2）

### 后端
- [ ] 模型配置管理（API Key + 模型选择）
- [ ] LLM 适配器（OpenAI 协议）
- [ ] 架构生成服务（5 步骤）
- [ ] 架构 CRUD 接口

### 前端
- [ ] 模型配置页面
- [ ] 架构生成面板（5 个折叠模块）
- [ ] 生成进度展示
- [ ] 可编辑文本框

### 提示词模板
- [ ] 核心种子（coreSeed）
- [ ] 角色动力学（characterDynamics）
- [ ] 世界观构建（worldBuilding）
- [ ] 情节架构（plotArchitecture）
- [ ] 角色状态（characterState）

### 验收标准
- 可以配置 LLM API
- 可以生成完整小说架构
- 架构内容可编辑

---

## 🎬 Sprint 3: 章节大纲生成（Week 3）

### 后端
- [ ] 大纲生成服务
- [ ] 分块生成（token 限制）
- [ ] 断点续传逻辑
- [ ] 大纲 API

### 前端
- [ ] 大纲面板
- [ ] 章节列表展示
- [ ] 可编辑文本框
- [ ] 分块进度显示

### 提示词模板
- [ ] 章节大纲（blueprint）
- [ ] 分块大纲（blueprintChunked）

### 验收标准
- 可以生成章节大纲
- 支持长篇分块
- 大纲可编辑保存

---

## 🎬 Sprint 4: 章节写作（Week 4）

### 后端
- [ ] 章节生成服务
- [ ] 章节定稿服务（更新摘要）
- [ ] 章节扩写服务
- [ ] 章节 API

### 前端
- [ ] 章节列表侧边栏
- [ ] 富文本编辑器（Tiptap）
- [ ] 章节信息展示
- [ ] 前文摘要展示
- [ ] 生成/保存/定稿/扩写按钮
- [ ] 字数统计

### 提示词模板
- [ ] 第一章草稿（firstDraft）
- [ ] 后续章节（nextDraft）
- [ ] 扩写（enrich）
- [ ] 摘要更新（summary）
- [ ] 角色状态更新（updateCharacterState）

### 验收标准
- 可以逐章写作
- AI 生成章节内容
- 支持手动编辑
- 自动保存和定稿

---

## 🎬 Sprint 5: 导出功能（Week 5）

### 后端
- [ ] 导出服务（TXT / Markdown）
- [ ] 导出 API

### 前端
- [ ] 导出面板
- [ ] 导出统计展示
- [ ] 格式选择
- [ ] 下载处理

### 验收标准
- 可以导出 TXT
- 可以导出 Markdown

---

## 🎬 Sprint 6: 设置功能（Week 6）

### 后端
- [ ] 用户设置服务
- [ ] 设置 API

### 前端
- [ ] 设置页面
- [ ] API 配置
- [ ] 模型配置（用途分类）
- [ ] 主题切换
- [ ] 深色/浅色模式

### 验收标准
- 可以配置 API
- 可以配置不同用途的模型
- 可以切换主题

---

## 🎬 Sprint 7: 关系图谱（Week 7）

### 后端
- [ ] 图谱生成服务
- [ ] 章节快照服务
- [ ] 图谱 API

### 前端
- [ ] 灵感罗盘面板
- [ ] 图谱画布（ECharts）
- [ ] 时间轴组件
- [ ] 节点详情侧边栏
- [ ] 关系详情弹窗
- [ ] 导出 PNG/HTML

### 提示词模板
- [ ] 提取图谱（extractGraph）
- [ ] 提取增量（extractChapterDelta）
- [ ] 提取单章图谱（extractChapterGraph）

### 验收标准
- 可以生成角色关系图谱
- 可以查看章节快照变化
- 可以导出图谱

---

## 🎬 Sprint 8: 错误检测（Week 8）

### 后端
- [ ] 错误检测服务
  - [ ] 错别字检测
  - [ ] 病句检测
  - [ ] 逻辑一致性检测
  - [ ] 重复度检测
- [ ] 检测 API

### 前端
- [ ] 错误检测面板
- [ ] 实时标记（波浪线）
- [ ] 错误列表
- [ ] 一键修正

### 验收标准
- 可以检测错别字
- 可以检测逻辑冲突
- 可以一键修正

---

## 🎬 Sprint 9: 部署优化（Week 9）

### 后端
- [ ] 数据库索引优化
- [ ] Redis 缓存
- [ ] Docker 配置
- [ ] Docker Compose

### 前端
- [ ] 代码分割
- [ ] 懒加载
- [ ] 生产构建

### 验收标准
- 可以 Docker 部署
- 前端性能良好

---

## 🎬 Sprint 10: 智能对话（Week 10）

### 后端
- [ ] 聊天服务
- [ ] 会话管理
- [ ] 消息历史
- [ ] 流式响应（SSE）
- [ ] 聊天 API

### 前端
- [ ] 灵感激发页
- [ ] ChatGPT 风格聊天界面
- [ ] 模式选择器
- [ ] Markdown 渲染
- [ ] 流式打字效果
- [ ] 对话历史管理

### 提示词模板
- [ ] 创意启发（creative）
- [ ] 设定完善（building）
- [ ] 角色塑造（character）
- [ ] 通用（general）

### 验收标准
- 可以多轮对话
- 支持 4 种对话模式
- 对话历史保存

---

## 🎬 Sprint 11: 智能对话（Week 10）

### 后端
- [ ] 聊天服务
- [ ] 会话管理
- [ ] 消息历史
- [ ] 流式响应（SSE）
- [ ] 聊天 API

### 前端
- [ ] 灵感激发页
- [ ] ChatGPT 风格聊天界面
- [ ] 模式选择器
- [ ] Markdown 渲染
- [ ] 流式打字效果
- [ ] 对话历史管理

### 提示词模板
- [ ] 创意启发（creative）
- [ ] 设定完善（building）
- [ ] 角色塑造（character）
- [ ] 通用（general）

### 验收标准
- 可以多轮对话
- 支持 4 种对话模式
- 对话历史保存

---

## 🎬 Sprint 12: 写作助手（Week 11）

### 后端
- [ ] 润色服务
- [ ] 扩写服务
- [ ] 灵感建议服务
- [ ] 写作辅助 API

### 前端
- [ ] 写作助手侧边栏
- [ ] 润色面板
- [ ] 扩写面板
- [ ] 灵感建议面板
- [ ] 对比查看
- [ ] 一键应用

### 提示词模板
- [ ] 让文字更生动（vivid）
- [ ] 增加环境描写（environment）
- [ ] 增强人物刻画（character）
- [ ] 扩写 300/500/1000 字
- [ ] 接下来发展建议

### 验收标准
- 可以润色文本
- 可以扩写文本
- 可以获取灵感建议

---

## 🎬 Sprint 12: 写作助手（Week 11）

### 后端
- [ ] 润色服务
- [ ] 扩写服务
- [ ] 灵感建议服务
- [ ] 写作辅助 API

### 前端
- [ ] 写作助手侧边栏
- [ ] 润色面板
- [ ] 扩写面板
- [ ] 灵感建议面板
- [ ] 对比查看
- [ ] 一键应用

### 提示词模板
- [ ] 让文字更生动（vivid）
- [ ] 增加环境描写（environment）
- [ ] 增强人物刻画（character）
- [ ] 扩写 300/500/1000 字
- [ ] 接下来发展建议

### 验收标准
- 可以润色文本
- 可以扩写文本
- 可以获取灵感建议

---

## 🎬 Sprint 12: AI 审阅（Week 12）

### 后端
- [ ] 审阅服务
  - [ ] 综合评分
  - [ ] 优点分析
  - [ ] 问题诊断
  - [ ] 市场预测
- [ ] 审阅 API

### 前端
- [ ] AI 审阅面板
- [ ] 审阅触发按钮
- [ ] 评分雷达图
- [ ] 优点/问题展示
- [ ] 修改建议

### 提示词模板
- [ ] 整体评价（overall）
- [ ] 优点分析（highlights）
- [ ] 问题诊断（issues）
- [ ] 修改建议（suggestions）
- [ ] 市场预测（prediction）

### 验收标准
- 可以 AI 审阅小说
- 展示多维度评分
- 提供修改建议

---

## 🎬 Sprint 13: 多平台发布（Week 13）

### 后端
- [ ] 平台适配器
- [ ] 格式转换
- [ ] 批量发布
- [ ] 进度追踪
- [ ] 发布 API

### 前端
- [ ] 发布面板
- [ ] 平台列表
- [ ] 账号绑定
- [ ] 发布配置
- [ ] 进度追踪
- [ ] 发布历史

### 验收标准
- 可以绑定平台账号
- 可以发布到草稿箱
- 可以追踪发布状态

---

## 🎬 Sprint 13: 多平台发布（Week 13）

### 后端
- [ ] 平台适配器
- [ ] 格式转换
- [ ] 批量发布
- [ ] 进度追踪
- [ ] 发布 API

### 前端
- [ ] 发布面板
- [ ] 平台列表
- [ ] 账号绑定
- [ ] 发布配置
- [ ] 进度追踪
- [ ] 发布历史

### 验收标准
- 可以绑定平台账号
- 可以发布到草稿箱
- 可以追踪发布状态

---

## 🎬 Sprint 14: 数据备份（Week 14）

### 后端
- [ ] 导出服务
- [ ] 导入服务
- [ ] 备份 API

### 前端
- [ ] 数据管理页
- [ ] 导出数据
- [ ] 导入数据
- [ ] 备份历史

### 验收标准
- 可以导出所有数据
- 可以导入数据

---

## 📊 竞品功能对照表

| 竞品功能 | 我们的功能 | Sprint | 状态 |
|----------|-----------|--------|------|
| **项目管理** |
| 创建项目 | 创建项目 | 1 | ✅ MVP |
| 项目列表 | 项目列表 | 1 | ✅ MVP |
| 项目删除 | 删除项目 | 1 | ✅ MVP |
| 项目卡片展示 | 项目卡片 | 1 | ✅ MVP |
| **架构生成** |
| 核心种子生成 | 核心种子 | 2 | ✅ MVP |
| 角色动力学生成 | 角色体系 | 2 | ✅ MVP |
| 世界观生成 | 世界观 | 2 | ✅ MVP |
| 情节架构生成 | 情节架构 | 2 | ✅ MVP |
| 角色状态生成 | 角色状态 | 2 | ✅ MVP |
| 5 个模块折叠展示 | 5 个折叠面板 | 2 | ✅ MVP |
| 可编辑架构内容 | 可编辑 | 2 | ✅ MVP |
| **大纲生成** |
| 章节大纲生成 | 章节大纲 | 3 | ✅ MVP |
| 分块生成（长篇） | 分块生成 | 3 | ✅ MVP |
| 悬念节奏曲线 | 悬念节奏 | 3 | ✅ MVP |
| 可编辑大纲 | 可编辑 | 3 | ✅ MVP |
| **章节写作** |
| 章节列表 | 章节列表 | 4 | ✅ MVP |
| AI 生成草稿 | 生成草稿 | 4 | ✅ MVP |
| 手动编辑 | 编辑器 | 4 | ✅ MVP |
| 保存章节 | 保存章节 | 4 | ✅ MVP |
| 定稿（更新摘要） | 保存并定稿 | 4 | ✅ MVP |
| 扩写章节 | 扩写 | 4 | ✅ MVP |
| 字数统计 | 字数统计 | 4 | ✅ MVP |
| 前文摘要展示 | 前文摘要 | 4 | ✅ MVP |
| **导出** |
| 导出 TXT | 导出 TXT | 5 | ✅ MVP |
| 导出 Markdown | 导出 Markdown | 5 | ✅ MVP |
| **设置** |
| API 配置 | API 配置 | 6 | ✅ MVP |
| 模型选择 | 模型配置 | 6 | ✅ MVP |
| 分环节模型配置 | 用途分类 | 6 | ✅ MVP |
| 主题切换 | 主题切换 | 6 | ✅ MVP |
| **关系图谱** |
| 生成基线图谱 | 生成图谱 | 7 | ✅ P1 |
| 章节快照 | 章节快照 | 7 | ✅ P1 |
| 时间轴拖动 | 时间轴 | 7 | ✅ P1 |
| 节点详情 | 节点详情 | 7 | ✅ P1 |
| 导出 PNG/HTML | 导出图谱 | 7 | ✅ P1 |

---

## 🚀 超越竞品功能

| 功能 | Sprint | 优先级 |
|------|--------|--------|
| **错误检测系统** |
| 错别字检测 | 8 | P1 |
| 逻辑一致性检测 | 8 | P1 |
| 一键批量修正 | 8 | P1 |
| **智能对话激发灵感** |
| ChatGPT 式对话 | 11 | P0 |
| 4 种对话模式 | 11 | P0 |
| 对话历史保存 | 11 | P0 |
| **智能写作助手** |
| 实时润色 | 12 | P0 |
| 智能扩写 | 12 | P0 |
| 灵感建议 | 12 | P0 |
| **AI 专家审阅** |
| 多维度质量评分 | 13 | P0 |
| 优缺点分析 | 13 | P0 |
| 市场流行度预测 | 13 | P0 |
| **多平台发布** |
| 一键发布多平台 | 14 | P0 |
| 发布进度追踪 | 14 | P0 |
| **数据管理** |
| 数据导出 | 15 | P1 |
| 数据导入 | 15 | P1 |

---

## 📝 开发规范

### Git 提交规范
```
feat: 新功能
fix: 修复 bug
docs: 文档更新
style: 代码格式调整
refactor: 重构
test: 测试
chore: 构建/工具链
```

### 分支策略
```
main         - 生产环境
develop      - 开发环境
feature/*    - 功能分支
hotfix/*     - 紧急修复
```

### API 命名规范
```
GET    /api/v1/projects          # 列表
GET    /api/v1/projects/:id      # 详情
POST   /api/v1/projects          # 创建
PUT    /api/v1/projects/:id      # 更新
DELETE /api/v1/projects/:id      # 删除
POST   /api/v1/projects/:id/generate # 动作
```

---

**文档创建时间**: 2026-02-27
